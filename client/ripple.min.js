var rijs=function(){"use strict";var e="undefined"!=typeof window,n=Object.freeze({default:e,__moduleExports:e}),t=function(){var e,n,t=new Promise(function(t,r){e=t,n=r});return arguments.length&&e(arguments[0]),t.resolve=e,t.reject=n,t};var r=Object.freeze({default:t,__moduleExports:t}),o=function e(n,t){return t instanceof Array&&(t=t.reduce(e,[])),(n=n||[]).concat(t)},u=Object.freeze({default:o,__moduleExports:o}),i=function(e,n){return n in e},c=Object.freeze({default:i,__moduleExports:i}),s=c&&i||c,a=function(e,n,t,r){return e.host&&e.host.nodeName&&(e=e.host),n.name&&(t=n,n=n.name),!s(e,n)&&Object.defineProperty(e,n,{value:t,writable:r}),e[n]},f=Object.freeze({default:a,__moduleExports:a}),l=r&&t||r,d=u&&o||u,p=f&&a||f,m=function(){},h=function e(n,t){return t=t||{},p(n=n||{},"emit",function(e,t,o){for(var u=n.on[e.split(".")[0]]||[],i=[],c=0;c<u.length;c++)u[c].ns&&o&&!o(u[c].ns)||i.push(r(u[c].isOnce?u.splice(c--,1)[0]:u[c],t));for(var c=0;c<n.on["*"].length;c++)i.push(r(n.on["*"][c],[e,t]));return i.reduce(d,[])},1),p(n,"once",function(e,t){return n.on(e,t,!0)},1),p(n,"off",function(e,t){o(n.on[e]||[],t),t&&t.ns&&delete n.on[e]["$"+t.ns];return n},1),p(n,"on",function(e,r,i){var c=e.split(".")[0],s=e.split(".")[1],a=n.on[c]=n.on[c]||[],f="function"==typeof r?r:0;return!f&&s?(f=n.on[c]["$"+s])?f:l(u(n,r)):f||s?f&&s?l((o(a,n.on[c]["$"+s]||-1),f)):!(!f||s)&&l(f):l(u(n,r));function l(e){return e.isOnce=i,e.type=c,s&&(n.on[c]["$"+(e.ns=s)]=e),a.push(e),(t.on||m)(e),e.next?e:n}},1),n.on["*"]=n.on["*"]||[],n;function r(e,t){return e.next?e.next(t):t instanceof Array?e.apply(n,t):e.call(n,t)}function o(e,n){for(var r=e.length;~--r;)n!=e[r]&&n!=e[r].fn&&n||(t.off||m)(e.splice(r,1)[0])}function u(n,t){var r=e((t=t||{}).base||l());return r.i=0,r.li=[],r.fn=t.fn,r.parent=n,r.source=t.fn?r.parent.source:r,r.on("stop",function(e){return r.type?r.parent.off(r.type,r):r.parent.off(r),r.reason=e}),r.each=function(e){var n=e.next?e:u(r,{fn:e});return r.li.push(n),n},r.pipe=function(e){return e(r)},r.map=function(e){return r.each(function(n,t,r){return r.next(e(n,t,r))})},r.filter=function(e){return r.each(function(n,t,r){return e(n,t,r)&&r.next(n)})},r.reduce=function(e,n){return r.each(function(t,r,o){return o.next(n=e(n,t,r,o))})},r.unpromise=function(){var e=u(r,{base:{},fn:function(n){return e.next(n)}});return r.li.push(e),e},r.next=function(e){return r.resolve&&r.resolve(e),r.li.length?r.li.map(function(n){return n.fn(e,n.i++,n)}):e},r.until=function(e){return e.each?e.each(r.stop):e.then?e.then(r.stop):e.call?r.filter(e).map(r.stop):0},r.off=function(e){return o(r.li,e),r},r.start=function(){return r.source.emit("start"),r},r.stop=function(e){return r.source.emit("stop",e)},r[Symbol.asyncIterator]=function(){return{next:function(){return r.wait=new Promise(function(e){r.wait=!0,r.map(function(n,t,o){delete r.wait,r.off(o),e({value:n,done:!1})}),r.emit("pull",r)})}}},r}},b=Object.freeze({default:h,__moduleExports:h}),v=y;function y(e){return function(n){return n==e}}y.fn=function(e){return"function"==typeof e},y.str=function(e){return"string"==typeof e},y.num=function(e){return"number"==typeof e},y.obj=function(e){return"object"==typeof e},y.lit=function(e){return e.constructor==Object},y.bol=function(e){return"boolean"==typeof e},y.truthy=function(e){return 1==!!e},y.falsy=function(e){return 0==!!e},y.arr=function(e){return e instanceof Array},y.null=function(e){return null===e},y.def=function(e){return void 0!==e},y.in=function(e){return function(n){return!!e&&(e.indexOf?~e.indexOf(n):n in e)}},y.promise=function(e){return e instanceof Promise},y.stream=function(e){return!(!e||!e.next)};var g=Object.freeze({default:v,__moduleExports:v}),_=n&&e||n,j=g&&v||g;["red","green","bold","grey","strip"].forEach(function(e){!j.str(String.prototype[e])&&Object.defineProperty(String.prototype,e,{get:function(){return String(this)}})});var O=function(e){return e},E=Object.freeze({default:O,__moduleExports:O}),z=function(e){return function(){return e}},w=Object.freeze({default:z,__moduleExports:z}),k=function(e){return Object.keys(j.obj(e)||j.fn(e)?e:{})},S=Object.freeze({default:k,__moduleExports:k}),N=function(e){return 0===e?"0":e?j.fn(e)?""+e:j.obj(e)?JSON.stringify(e):String(e):""},C=Object.freeze({default:N,__moduleExports:N}),A=w&&z||w,$=S&&k||S,L=C&&N||C,P=function e(n,t){var r=arguments.length>1,o=j.fn(n)?[]:L(n).split(".").filter(Boolean),u=o.shift();return function(i,c){var s={};return i?j.num(n)||n?j.arr(n)?(n.map(function(n){var r=e(n)(i);null!=(r=j.fn(t)?t(r):null==r?t:r)&&e(n,j.fn(r)?A(r):r)(s)}),s):i[n]||!o.length?r?(i[n]=j.fn(t)?t(i[n],c):t,i):j.fn(n)?n(i):i[n]:r?(e(o.join("."),t)(i[u]?i[u]:i[u]={}),i):e(o.join("."))(i[u]):r?function(e,n){return $(e).map(function(n){delete e[n]}),$(n).map(function(t){e[t]=n[t]}),e}(i,t):i:void 0}},B=Object.freeze({default:P,__moduleExports:P}),D=B&&P||B,I=function(e,n){var t=1==arguments.length;return function(r){return r&&r.headers?t?D(e)(r.headers):D(e)(r.headers)==n:null}},q=Object.freeze({default:I,__moduleExports:I}),T=function(e){return e.__data__},U=Object.freeze({default:T,__moduleExports:T}),M=U&&T||U,R=J;function J(e){return function(n){return D(n)(e)}}J.parent=function(e){return M(this.parentNode)[e]};var F=Object.freeze({default:R,__moduleExports:R}),G=F&&R||F,H=function(e){return e?$(e).map(G(e)):[]},W=Object.freeze({default:H,__moduleExports:H}),Y={arr:function(e){return Array.prototype.slice.call(e,0)},obj:function(e){var n="id";return 1==arguments.length?(n=e,t):t.apply(this,arguments);function t(e,t,r){return 0===r&&(e={}),e[j.fn(n)?n(t,r):t[n]]=t,e}}};var K=Y.arr,Q=Y.obj,V=Object.freeze({default:Y,__moduleExports:Y,arr:K,obj:Q}),X=V&&Y||V,Z=function(){return function e(n){return function(t,r){if(!n.length)return 0;var o=n[0],u=D(o)(t)||"",i=D(o)(r)||"";return u<i?1:u>i?-1:e(n.slice(1))(t,r)}}(X.arr(arguments))};var ee=Object.freeze({default:Z,__moduleExports:Z}),ne=function(e){return function(n){return n&&n.indexOf&&~n.indexOf(e)}},te=Object.freeze({default:ne,__moduleExports:ne}),re=te&&ne||te,oe={header:"text/plain",check:function(e){return!re(".html")(e.name)&&!re(".css")(e.name)&&j.str(e.body)}},ue=oe.header,ie=oe.check,ce=Object.freeze({default:oe,__moduleExports:oe,header:ue,check:ie}),se=_?window:global,ae=Object.freeze({default:se,__moduleExports:se}),fe=ae&&se||ae,le=function(e){return function(n){if(!fe.console||!console.error.apply)return n;j.arr(arguments[2])&&(arguments[2]=arguments[2].length);var t=X.arr(arguments),r="[err]["+(new Date).toISOString()+"]"+e;return t.unshift(r.red?r.red:r),console.error.apply(console,t),n}},de=Object.freeze({default:le,__moduleExports:le}),pe=function(e){return function(n){if(!fe.console||!console.log.apply)return n;j.arr(arguments[2])&&(arguments[2]=arguments[2].length);var t=X.arr(arguments),r="[log]["+(new Date).toISOString()+"]"+e;return t.unshift(r.grey?r.grey:r),console.log.apply(console,t),n}},me=Object.freeze({default:pe,__moduleExports:pe}),he=function(e){return function(n){return n.split(e)}},be=Object.freeze({default:he,__moduleExports:he}),ve=be&&he||be,ye=E&&O||E,ge=je((_?(fe.location.search.match(/debug=(.*?)(&|$)/)||[])[1]:D("process.env.DEBUG")(fe))||""),xe=ge.split(",").map(ve("/")),_e=function(e){return"*"==ge||xe.some(function(e){return e=je(e).split("/"),function(n){return 1==n.length?n[0]==e[0]:2==n.length&&n[0]==e[0]&&n[1]==e[1]}}(e))?function(n){if(!fe.console||!console.log.apply)return n;j.arr(arguments[2])&&(arguments[2]=arguments[2].length);var t=X.arr(arguments),r="[deb]["+(new Date).toISOString()+"]"+e;return t.unshift(r.grey?r.grey:r),console.log.apply(console,t),n}:ye};function je(e){return e.replace(/(\[|\])/g,"")}var Oe=Object.freeze({default:_e,__moduleExports:_e}),Ee=b&&h||b,ze=q&&I||q,we=W&&H||W,ke=ee&&Z||ee,Se=ce&&oe||ce,Ne=me&&pe||me,Ce=Oe&&_e||Oe,Ae=function(e){void 0===e&&(e={});var n=e.aliases;return void 0===n&&(n={}),Ue("creating"),t.resources={},t.link=qe(t),t.register=t,t.types=De(),Ie(Ee(t),n);function t(e,n,r){return e?j.arr(e)?e.map(t):j.promise(e)?e.then(t).catch(Te):j.obj(e)&&!e.name?t(we(e)):j.fn(e)&&e.resources?t(we(e.resources)):j.str(e)&&!n&&t.resources[e]?t.resources[e].body:!j.str(e)||n||t.resources[e]?j.str(e)&&n?$e(t)({name:e,body:n,headers:r}):j.obj(e)?$e(t)(e):(Te("could not find or create resource",e),!1):void 0:t}},$e=function(e){return function(n){var t=n.name,r=n.body,o=n.headers;if(void 0===o&&(o={}),t=e.aliases.src[t]||t,j.promise(r))return r.then(function(n){return $e(e)({name:t,body:n,headers:o})}).catch(Te);Me("registering",t);var u=Le(e)({name:t,body:r,headers:o});return u?(e.resources[t]=u,e.emit("change",[t,{type:"update",value:u.body,time:Re(u)}]),e.resources[t].body):(Te("failed to register",t),!1)}},Le=function(e){return function(n){return ze("content-type")(n)||we(e.types).sort(ke("priority")).some(Be(n)),ze("content-type")(n)?Pe(e)(n):(Te("could not understand resource",n),!1)}},Pe=function(e){return function(n){var t=ze("content-type")(n);return e.types[t]?(e.types[t].parse||ye)(n):(Te("could not understand type",t),!1)}},Be=function(e){return function(n){return n.check(e)&&(e.headers["content-type"]=n.header)}},De=function(){return[Se].reduce(X.obj("header"),1)},Ie=function(e,n){for(var t in e.aliases={dst:{},src:{}},n)e.link(n[t],t);return e},qe=function(e){return function(n,t){e.aliases.src[n]=t,e.aliases.dst[t]=n,Object.defineProperty(e.resources,n,{get:function(){return e.resources[t]},set:function(n){e.resources[t]=n}})}},Te=(de&&le||de)("[ri/core]"),Ue=Ne("[ri/core]"),Me=Ce("[ri/core]"),Re=function(e,n){return n=D("body.log.length")(e),j.num(n)?n-1:n},Je=Object.freeze({default:Ae,__moduleExports:Ae}),Fe=function(e){return Ge("creating"),fe.ripple||(fe.ripple=e),e},Ge=Ne("[ri/singleton]"),He=Object.freeze({default:Fe,__moduleExports:Fe}),We=function(e,n){return function(t){return n[t]=e[t],t}},Ye=Object.freeze({default:We,__moduleExports:We}),Ke=Ye&&We||Ye,Qe=function(e){return function(n){return $(n).map(Ke(n,e)),e}},Ve=Object.freeze({default:Qe,__moduleExports:Qe}),Xe=function(e){return function(){return!e.apply(this,arguments)}},Ze=Object.freeze({default:Xe,__moduleExports:Xe}),en=Ze&&Xe||Ze,nn=function(e){return function(n){return $(n).filter(en(j.in(e))).map(Ke(n,e)),e}},tn=Object.freeze({default:nn,__moduleExports:nn}),rn=function e(n){return function(t){for(x in t)j.obj(t[x])&&j.obj(n[x])?e(n[x])(t[x]):n[x]=t[x];return n}};var on=Object.freeze({default:rn,__moduleExports:rn}),un=function e(n,t){var r=arguments.length;return j.str(n)||2!=r?j.str(n)||3!=r?function(e){var o=this||{};return e=(e=(e=o.nodeName||j.fn(o.node)?o:e).node?e.node():e).host||e,r>1&&!1===t?e.removeAttribute(n):r>1?(e.setAttribute(n,t),t):e.attributes.getNamedItem(n)&&e.attributes.getNamedItem(n).value}:e(arguments[1],arguments[2]).call(this,arguments[0]):e(arguments[1]).call(this,arguments[0])},cn=Object.freeze({default:un,__moduleExports:un}),sn={add:function(e,n,t){j.arr(e)?e.splice(n,0,t):e[n]=t},update:function(e,n,t){if(j.num(n)||n)e[n]=t;else{if(!j.obj(t))return!0;for(var r in e)delete e[r];for(var r in t)e[r]=t[r]}},remove:function(e,n){j.arr(e)?e.splice(n,1):delete e[n]}},an=JSON.stringify,fn=JSON.parse,ln=function(e,n){return function(t,r,o){if(!j.obj(t)&&!j.fn(t))return t;if(!j.obj(e)){var u=r||t.log||[],i=t;if(j.def(o)||(o=u.max||0),o||(u=[]),o<0&&(u=u.concat(null)),o>0){var c=an(t);i=fn(c),u=u.concat({type:"update",value:fn(c),time:u.length})}return p(u,"max",o),i.log?i.log=u:p(Ee(i,null),"log",u,1),i}return!!j.def(e.key)&&(!!function e(n,t,r,o){var u=r.shift();if(!sn[t])return!1;if(r.length){if(!(u in n)){if("remove"==t)return!0;n[u]={}}return e(n[u],t,r,o)}return!sn[t](n,u,o)}(t,e.type,(e.key=""+e.key).split(".").filter(Boolean),e.value)&&(t.log&&t.log.max&&t.log.push((e.time=t.log.length,t.log.max>0?e:null)),!n&&t.emit&&t.emit("change",e),t))}};var dn=Object.freeze({default:ln,__moduleExports:ln}),pn=Ve&&Qe||Ve,mn=tn&&nn||tn,hn=on&&rn||on,bn=cn&&un||cn,vn=dn&&ln||dn,yn=function(e){return gn("creating"),e.on("change.data").filter(function(n){var t=n[0];n[1];return ze("content-type","application/data")(e.resources[t])}).filter(function(e){e[0];var n=e[1];return n&&n.key}).map(function(n){var t=n[0],r=n[1];return e.resources[t].body.emit("change",r||null,en(j.in(["bubble"])))}),e.types["application/data"]={header:"application/data",ext:"*.data.js",selector:function(e){return'[data~="'+e.name+'"]'},extract:function(e){return(bn("data")(e)||"").split(" ")},check:function(e){return j.obj(e.body)},load:function(n){var t=function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(n.headers.path);return t=t.default||t,t=j.fn(t)?t(e):t,n.headers["content-type"]=this.header,e(hn(n)(t)),e.resources[n.name]},parse:function(n){var t=e.resources[n.name]||{};return mn(n.headers)(t.headers),n.body=vn()(n.body||[],t.body&&t.body.log,j.num(n.headers.log)?n.headers.log:-1),pn(n.body.on)(xn(t)),n.body.on("change.bubble",function(t){e.emit("change",e.change=[n.name,t],en(j.in(["data"]))),delete e.change}),n.headers.loaded&&!n.headers.loading&&(n.headers.loading=Promise.resolve(n.headers.loaded(e,n)).then(function(){return delete n.headers.loading,n})),n}},e},gn=Ne("[ri/types/data]"),xn=D("body.on"),_n=Object.freeze({default:yn,__moduleExports:yn}),jn=function(e){for(var n=5381,t=e.length;t;)n=33*n^e.charCodeAt(--t);return n>>>0},On=Object.freeze({default:jn,__moduleExports:jn}),En=On&&jn||On,zn=function(e){return wn("creating"),e.types["text/css"]={header:"text/css",ext:"*.css",selector:function(e){return'[css~="'+e.name+'"]'},extract:function(e){return(bn("css")(e)||"").split(" ")},check:function(e){return re(".css")(e.name)},shortname:function(e){return(void 0)(e)},load:!1,parse:function(e){return e.headers.hash=e.headers.hash||En(e.body),e}},e},wn=Ne("[ri/types/css]"),kn=Object.freeze({default:zn,__moduleExports:zn}),Sn=function(e){return(e||"").toLowerCase()},Nn=Object.freeze({default:Sn,__moduleExports:Sn}),Cn=Nn&&Sn||Nn,An=function(e,n){void 0===n&&(n={});var t=n.dir;return void 0===t&&(t="."),$n("creating"),e.require=function(n){return function(t){if(t in n.headers.dependencies&&e.resources[n.headers.dependencies[t]])return e(n.headers.dependencies[t]);throw new Error("Cannot find module: "+t+" for "+n.name)}},e.types["application/javascript"]={header:Ln,selector:function(e){return e.name+',[is~="'+e.name+'"]'},extract:function(e){return(bn("is")(e)||"").split(" ").concat(Cn(e.nodeName))},ext:"*.js",shortname:function(e){return(void 0)(e).split(".").slice(0,-1).join(".")},check:function(e){return j.fn(e.body)},load:!1,parse:function(n){if("cjs"==n.headers.format){var t={exports:{}};n.body(t,t.exports,e.require(n),{env:{}}),n.body=t.exports}return n}},e},$n=Ne("[ri/types/fn]"),Ln="application/javascript",Pn=Object.freeze({default:An,__moduleExports:An}),Bn=function(e){void 0===e&&(e=location.href.replace("http","ws"));var n=Ee({attempt:0});return n.ready=n.once("connected"),n.connect=qn(n,e),n.connect(),n.send=function(e){return n.ready.then(function(n){return n.send(e)})},n},Dn=Math.min,In=Math.pow,qn=function(e,n){return function(){var t=window.WebSocket,r=(window.location,window.setTimeout),o=new t(n);o.onopen=function(){return e.emit("connected",o)},o.onmessage=function(n){return e.emit("recv",n.data)},o.onclose=function(){e.ready=e.once("connected"),e.emit("disconnected"),r(e.connect,Tn(++e.attempt))}}},Tn=function(e,n,t){return void 0===n&&(n=100),void 0===t&&(t=1e4),Dn(t,n*In(2,e))},Un=Object.freeze({default:Bn,__moduleExports:Bn}),Mn=Un&&Bn||Un,Rn=function(e){void 0===e&&(e={});var n=e.socket;void 0===n&&(n=Mn()),n.id=0;var t=Ee({socket:n,send:Gn(n),get subscriptions(){return we(n.on).map(function(e){return e&&e[0]}).filter(function(e){return e&&e.type&&"$"==e.type[0]})}});return n.once("disconnected").map(function(){return n.on("connected").map(Fn(t))}),n.on("recv").map(Jn).each(function(e){var r=e.id,o=e.data,u=n.on["$"+r]&&n.on["$"+r][0];o.exec?o.exec(u,o.value):r?n.emit("$"+r,o):t.emit("recv",o)}),t},Jn=function(e){return new Function("return "+e)()},Fn=function(e){return function(){return e.subscriptions.map(function(n){var t=n.subscription;return e.socket.send(t)})}},Gn=function(e,n){return function(t,r){if(t instanceof window.Blob)return Hn(e,t,r);var o=L(++e.id),u=e.on("$"+o),i=function(t,r){return void 0===r&&(r=0),e.send(u.source.subscription=L({id:o,data:t,type:n})).then(function(){return u.emit("sent",{id:o,count:r})})};return t.next?t.map(i).source.emit("start"):i(t),u.source.once("stop").filter(function(e){return"CLOSED"!=e}).map(function(){return Gn(e,"UNSUBSCRIBE")(o).filter(function(e,n,t){return t.source.emit("stop","CLOSED")})}),u}},Hn=function(e,n,t,r,o){void 0===r&&(r=0),void 0===o&&(o=1024);var u=Ee().on("recv"),i=function(t){return function(){return r>=n.size?u.emit("sent",{id:t}):(e.send(n.slice(r,r+=o)),window.setTimeout(i(t)))}};return Gn(e,"BINARY")({size:n.size,meta:t}).on("sent",function(e){var n=e.id;return i(n)()}).on("progress",function(e){return u.emit("progress",{received:e,total:n.size})}).map(u.next).source.until(u.once("stop")),u},Wn=Object.freeze({default:Rn,__moduleExports:Rn}),Yn=function(e,n){return 1===arguments.length?setTimeout(e):setTimeout(n,e)},Kn=Object.freeze({default:Yn,__moduleExports:Yn}),Qn=Wn&&Rn||Wn,Vn=Kn&&Yn||Kn,Xn=function(e,n,t){void 0===n&&(n={}),void 0===t&&(t={});var r=t.xrs;return void 0===r&&(r=Qn),e.server=r(),e.send=Zn(e),e.subscribe=tt(e),e.subscriptions={},e.get=et(e),e.upload=rt(e),e.upload.id=0,e.server.on("recv").map(function(n,t,r){return nt(e)(n,t,r)}),e},Zn=function(e){var n=e.server;return function(e,t,r){return e instanceof Blob?n.send(e,t):j.obj(e)?n.send(e):n.send({name:e,type:t,value:r})}},et=function(e){return function(n,t){return e.subscribe(n,t).filter(function(e,n,t){return t.source.emit("stop")}).start()}},nt=function(e,n,t){return function(r){var o=r.name=r.name||n;return r.type||(r.type="update"),j.def(t)&&(r.key=t+"."+L(r.key)),r.key||"update"!=r.type?vn(r)(e.resources[o]?e(o):e(o,{})):e(ot(r)),e.change=r,D(t)(e(o))}},tt=function(e){return function(n,t){if(j.arr(n))return ut(n.map(function(n){return e.subscribe(n,t)})).map(function(e){return n.reduce(function(n,t,r){return n[t]=e[r],n},{})});if(e.subscriptions[n]=e.subscriptions[n]||{},j.arr(t))return ut(t.map(function(t){return e.subscribe(n,t)})).map(function(){return D(t)(e(n))});var r=Ee().on("subscription");r.on("stop").each(function(){o.subs.splice(o.subs.indexOf(r),1),Vn(1e3,function(){o.subs.length||(o.source.emit("stop"),e.subscriptions[n][t]=void 0,r.emit("end"))})}),e.subscriptions[n][t]&&r.on("start").map(function(){return D(t)(e(n))}).filter(j.def).map(function(e){return r.next(e)});var o=e.subscriptions[n][t]=e.subscriptions[n][t]||e.send(n,"SUBSCRIBE",t).map(nt(e,n,t)).each(function(n){o.subs.map(function(e){return e.next(n)}),delete e.change});return o.subs=o.subs||[],o.subs.push(r),r}},rt=function(e){return function(n,t){var r=++e.upload.id,o={},u=0,i=function(){if(!c.length)return!0;var n=c.shift(),t=n.field,o=n.filename,a=n.i,f=n.blob;return e.send(f,{filename:o,field:t,i:a,index:r}).on("progress",function(e){var n=e.received;e.total;return s.emit("progress",{total:u,received:u-(f.size-n)-c.reduce(function(e,n){return e+n.blob.size},0)})}).then(i)},c=$(t).map(function(e){return o[e]=t[e],e}).filter(function(e){return t[e]instanceof FileList}).map(function(e){return o[e]=[],X.arr(t[e]).map(function(e){return u+=e.size,e}).map(function(n,t){return{field:e,filename:n.name,i:t,blob:n,sent:0}})}).reduce(d,[]),s=e.send({files:c.length,type:"PREUPLOAD",fields:o,index:r,size:u,name:n}).once("sent",i);return s}},ot=function(e){var n=e.name,t=e.value;return{name:n,headers:e.headers,body:t}},ut=function(e){var n=Ee().on("merged");return n.streams=e,e.map(function(t){return t.each(function(r){t.latest=r;var o=e.map(function(e){return e.latest});o.every(j.def)&&n.next(o)})}),n.once("start").map(function(){return e.map(function(e){return e.source.emit("start")})}),n.once("stop").map(function(){return e.map(function(e){return e.source.emit("stop")})}),n},it=Object.freeze({default:Xn,__moduleExports:Xn}),ct=function(e){return document.body?e():document.addEventListener("DOMContentLoaded",e.bind(this))},st=Object.freeze({default:ct,__moduleExports:ct}),at=function(e){return ft(e.class?e.class:e.prototype?e.prototype.render?e:e.prototype.connected?e:lt(e):lt(e))},ft=Object.assign,lt=function(e){return e.class=e.class||class{render(){e.apply(this,arguments)}}},dt=Object.freeze({default:at,__moduleExports:at}),pt=function(e){if(!(e=e.host&&e.host.nodeName?e.host:e).on){e.listeners={};Ee(e,{on:function(t){var r=t.type.split(".").shift();e.listeners[r]||e.addEventListener(r,e.listeners[r]=function(e){return e.detail&&e.detail.emitted?0:n(r,e)})},off:function(n){e.on[n.type].length||(e.removeEventListener(n.type,e.listeners[n.type]),delete e.listeners[n.type])}});var n=e.emit;e.emit=function(t,r){var o=new CustomEvent(t,{detail:{params:r,emitted:!0},bubbles:!1,cancelable:!0});return e.dispatchEvent(o),n(t,o)}}},mt=Object.freeze({default:pt,__moduleExports:pt}),ht=dt&&at||dt,bt=mt&&pt||mt,vt=function(){},yt=_&&window.HTMLElement||class{},gt=_&&window.customElements||{},xt=function(e,n){if(1==arguments.length&&(n=e,e="anon-"+gt.anon++),n.wrapper)return n.wrapper;if(e.includes("-")){if(!_)return _t(ht(n));var t=gt.get(e);if(t){if(t.class==ht(n))return t;t.class=ht(n),Array.from(document.querySelectorAll(e)).map(function(e){e.disconnectedCallback(),e.methods.map(function(n){delete e[n]}),e.connectedCallback()})}else gt.define(e,t=_t(ht(n)));return t}},_t=function(e){return e.wrapper=e.wrapper||class extends yt{connectedCallback(){var n=this,t=e.wrapper.class.prototype;return bt(this),this.state=this.state||{},this.methods=Object.getOwnPropertyNames(t).filter(function(e){return!(e in jt)}).map(function(e){return n[e]=t[e].bind(n),e}),Promise.resolve((this.connected||vt).call(this,this,this.state)).then(function(){n.initialised=!0,n.render()})}render(){var n=e.wrapper.class.prototype;if(this.initialised)return n.render.call(this,this,this.state)}disconnectedCallback(){(this.disconnected||vt).call(this,this,this.state),this.dispatchEvent(new CustomEvent("disconnected")),this.initialised=!1}},e.wrapper.class=e,e.wrapper},jt={length:1,prototype:1,name:1,render:1};gt.anon=gt.anon||1;var Ot,Et=Object.freeze({default:xt,__moduleExports:xt}),zt=st&&ct||st,wt=Et&&xt||Et,kt=function(e){return _?(St("creating"),Node.prototype.render=function(){var n=this.nodeName.toLowerCase();if(n.includes("-"))return this.fn$=this.fn$||e.subscribe(n).map(function(e){return wt(n,e)})},Node.prototype.draw=function(){this.render()},zt(function(){return Array.from(document.querySelectorAll("*")).filter(function(e){return e.nodeName.includes("-")}).map(function(e){return e.render()})}),e):e},St=Ne("[ri/components]"),Nt=Object.freeze({default:kt,__moduleExports:kt}),Ct=Je&&Ae||Je,At=He&&Fe||He,$t=_n&&yn||_n,Lt=kn&&zn||kn,Pt=Pn&&An||Pn,Bt=it&&Xn||it,Dt=Nt&&kt||Nt;return function(e){function n(e){var n=Ct(e);return At(n,e),$t(n,e),Lt(n,e),Pt(n,e),Bt(n,e),Dt(n,e),n}!window.ripple&&n(),e.exports=n}(Ot={exports:{}},Ot.exports),Ot.exports}();
